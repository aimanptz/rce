@mixin getWithModifier {
  @content;

  @each $breakpoint-name, $breakpoint-value in $breakpoint-list {
    &-upper {
      &-#{$breakpoint-name} {
        @media (min-width: $breakpoint-value) {
          @content;
        }
      }
    }

    &-lower {
      &-#{$breakpoint-name} {
        @media (max-width: calc($breakpoint-value - 1px)) {
          @content;
        }
      }
    }
  }
}

@mixin withModifier($modifier: string) {
  &.#{$custom-element}--#{$modifier} {
    @include getModifierByBreakpoints {
      @if ($modifier == 'caption') {
        &,
        & > .#{$custom-element-icon},
        & > .#{$custom-element-text} {
          @content;
        }
      } @else {
        @content;
      }
    }
  }
}